!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Scrollbars=t():e.Scrollbars=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings={selector:".scrollbars",className:"scrollbars",contentClass:"scrollbars__content-wrapper",hoverable:!0},Object.keys(n).forEach(function(e){t.settings[e]=n[e]}),this.scrollContainers=document.querySelectorAll(this.settings.selector),this.initScrollContainers()}return i(e,[{key:"dragStart",value:function(t,n,i,r){var a=this,s="y"===r?"pageY":"pageX",o="y"===r?"Height":"Width",l="y"===r?"scrollTop":"scrollLeft",c=n["client"+o]/n["scroll"+o],u=t[s],d=function(t){var i=(t[s]-u)/c;u=t[s],e.getRAFHandler()(function(){n[l]+=i})};i.parentNode.classList.add(this.settings.className+"__bar-wrapper--grabbed"),document.addEventListener("mousemove",d),document.addEventListener("mouseup",function e(t){document.removeEventListener("mousemove",d,!1),document.removeEventListener("mouseup",e,!1),i.parentNode.classList.remove(a.settings.className+"__bar-wrapper--grabbed")}),t.preventDefault()}},{key:"bindEvents",value:function(t,n,i){var r=this;t.addEventListener("scroll",function(r){e.calcBarYPosition(t,n),e.calcBarXPosition(t,i)}),n.addEventListener("mousedown",function(e){r.dragStart(e,t,n,"y")}),i.addEventListener("mousedown",function(e){r.dragStart(e,t,i,"x")}),window.addEventListener("resize",function(r){e.calcBarParams(t,n,i),e.setBarVisibility(n,i)}),window.addEventListener("load",function(r){e.calcBarParams(t,n,i),e.setBarVisibility(n,i)})}},{key:"createScrollbars",value:function(t){t.classList.add(""+this.settings.className),this.settings.hoverable&&t.classList.add(this.settings.className+"--hoverable");var n=e.createElement("div",this.settings.className+"__content-wrapper"),i=e.createElement("div",this.settings.className+"__scroll-wrapper"),r=e.createElement("div",this.settings.className+"__bar-wrapper-y"),a=e.createElement("div",this.settings.className+"__bar"),s=e.createElement("div",this.settings.className+"__bar-wrapper-x"),o=e.createElement("div",this.settings.className+"__bar");e.wrapContent(t,n),s.style.visibility="hidden",s.appendChild(o),t.appendChild(s),r.style.visibility="hidden",r.appendChild(a),t.appendChild(r),n.classList.add(this.settings.contentClass),i.appendChild(n),t.appendChild(i),this.bindEvents(i,a,o)}},{key:"initScrollContainers",value:function(){var e=this;[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.scrollContainers)).forEach(function(t){e.createScrollbars(t)})}}],[{key:"setBarVisibility",value:function(e,t){e.parentNode.style.visibility="100%"!==e.style.height?"visible":"hidden",t.parentNode.style.visibility="100%"!==t.style.width?"visible":"hidden"}},{key:"calcBarXPosition",value:function(e,t){t.style.left=e.scrollLeft/e.scrollWidth*100+"%"}},{key:"calcBarXLength",value:function(e,t){t.style.width=e.clientWidth/e.scrollWidth*100+"%"}},{key:"calcBarYPosition",value:function(e,t){t.style.top=e.scrollTop/e.scrollHeight*100+"%"}},{key:"calcBarYLength",value:function(e,t){t.style.height=e.clientHeight/e.scrollHeight*100+"%"}},{key:"calcBarParams",value:function(t,n,i){e.calcBarYLength(t,n),e.calcBarXLength(t,i),e.calcBarYPosition(t,n),e.calcBarXPosition(t,i)}},{key:"wrapContent",value:function(e,t){for(var n=e,i=t;n.firstChild;)i.appendChild(n.removeChild(n.firstChild));return i}},{key:"getRAFHandler",value:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}},{key:"createElement",value:function(e,t){var n=document.createElement(e);return n.classList.add(t),n}}]),e}();t.default=r,e.exports=t.default}])});
//# sourceMappingURL=scrollbars.js.map